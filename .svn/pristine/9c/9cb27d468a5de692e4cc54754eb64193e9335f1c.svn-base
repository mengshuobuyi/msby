

#import "QWJSDatabaseExt.h"
#import "QWDatabaseManager.h"


#define SUCCESS 0
#define UNKNOWN_ERROR 1
#define ADD_FAIL_ERROR 2
#define GET_FAIL_ERROR 3
#define INSERT_FAIL_ERROR 4
#define UPDATE_FAIL_ERROR 5
#define OPEN_FAIL_ERROR 6
#define CLOSE_FAIL_ERROR 7
#define EXEC_FAIL_ERROR 8



@implementation QWJSDatabaseExt

@synthesize jsCallbackId_;

#pragma mark- insert operation
//- (void)addData:(NSArray *)arguments withDict:(NSDictionary *)options{
//    if ([arguments count] >= 2) {
//        self.jsCallbackId_ = [arguments objectAtIndex:0];
//        NSString *sql = [arguments objectAtIndex:1];
//        BOOL success = [[QWDatabaseManager shareDataBaseManager] insertToDB:sql callback:NULL];
//        if (!success) {
//            [self writeScript:self.jsCallbackId_ messageString:@"addData error" state:ADD_FAIL_ERROR keepCallback:NO];
//        }else {
//            [self writeScript:self.jsCallbackId_ message:@"insert successed" state:0 keepCallback:NO];
//        }
//    }
//}


#pragma mark- search operation
//- (void)getData:(NSArray *)arguments withDict:(NSDictionary *)options
//{
//    if ([arguments count]>1) {
//        self.jsCallbackId_ = [arguments objectAtIndex:0];
//        NSString *sql = [arguments objectAtIndex:1];
//        NSString *value = [[QWDatabaseManager shareDataBaseManager] searchDB:sql callback:NULL];
//        if (value) {
//            [self writeScript:self.jsCallbackId_ messageString:value state:0 keepCallback:NO];
//        }else{
//            [self writeScript:self.jsCallbackId_ message:@"null" state:GET_FAIL_ERROR keepCallback:NO];
//        }
//    }
//}

#pragma mark - delete operation
//- (void)deleteData:(NSArray *)arguments withDict:(NSDictionary *)options{
//    if ([arguments count] >= 2) {
//        self.jsCallbackId_ = [arguments objectAtIndex:0];
//        NSString *sql = [arguments objectAtIndex:1];
//        BOOL success = [[QWDatabaseManager shareDataBaseManager] deleteDB:sql callback:NULL];
//        if (!success) {
//            [self writeScript:self.jsCallbackId_ message:@"null" state:INSERT_FAIL_ERROR keepCallback:NO];
//        }else {
//            [self writeScript:self.jsCallbackId_ message:@"delete Data success" state:0 keepCallback:NO];
//        }
//    }
//}

#pragma mark- update operation
//- (void)updateData:(NSArray *)arguments withDict:(NSDictionary *)options{
//    if ([arguments count] >= 2) {
//        self.jsCallbackId_ = [arguments objectAtIndex:0];
//        NSString *sql = [arguments objectAtIndex:1];
//       BOOL success = [[QWDatabaseManager shareDataBaseManager] updateDB:sql callback:NULL];
//        if (!success) {
//            [self writeScript:self.jsCallbackId_ message:@"null" state:UPDATE_FAIL_ERROR keepCallback:NO];
//        }else {
//            [self writeScript:self.jsCallbackId_ message:@"update Data success" state:0 keepCallback:NO];
//        
//        }
//    }
//}

@end
